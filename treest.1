.TH TREEST 1 treest-TREEST_VERSION

.SH NAME
treest \- stateful tree view

.SH SYNOPSIS
.B treest
[--printer=\fINAME\fR] [--\fILONGOPTIONS\fR] [-\fIFLAGS\fR]
[[--] \fIROOT\fR]

.SH DESCRIPTION
.PP
Print a tree-like representation of a directory to standard
output.  Take interactive commands from standard input.
When supported and standard output is a TTY, it is set to
raw mode.

.SH OPTIONS
.TP
\fB\-\-help
Show the quick help.
.TP
\fB\-\-version
Print the version and build features successfully.
.TP
\fB\-\-printer=\fINAME\fR
Change for the specified printer.
.TP
\fB\-\-ignore=\fISHELLPAT\fR
Add the given shell pattern to the ignore list.  See also
\fBfnmatch\fR(3).
.TP
\fB\-\-rcfile=\fIFILE\fR
Once ready but before reading from stdin, read from the
provided file first.
.TP
\fB\-\-\fILONGOPTIONS\fR
Other options are forwarded to the last specified printer.

.SH FLAGS
.PP
These are the common default flags.  Although they can be
overriden by the selected printer, they usually keep the
same meaning.
.TS
tab (@);
l lx.
-A@T{
do not ignore entries starting with . (except . and ..)
T}
-B@T{
do not list entries ending with ~
T}
-I@T{
toggle the filtering by ignored patterns
T}
-S@T{
sort by size
T}
-X@T{
sort by extension
T}
-c@T{
sort by ctime
T}
-d@T{
sort directories first
T}
-r@T{
reverse sorting order
T}
-t@T{
sort by mtime
T}
-u@T{
sort by atime
T}
-w@T{
toggle watch mode: watches are set on every unfolded
directories (see the \fBinotify(7)\fR)
T}
.TE

.SH COMMANDS
.PP
The following commands are read from the user input.
Note that from any prompt or pending state, \fB'^['\fR
(\fBESC\fR) should bring it back to "normal mode" (except
when using \fBreadline\fR(3) with a tty true user input).
.TS
tab (@);
l lx.
^C@T{
quit
T}
^H@T{
toggle the ignore global flag
T}
^L@T{
refresh the view
T}
^N@T{
go to the next visible node
T}
^P@T{
go to the previous visible node
T}
^R@T{
reload the directory at the cursor
T}
^Z@T{
suspend
T}
!@T{
execute a shell command, use {} for the full path at the cursor
T}
"@T{
fill or empty a register, use `?"` to see used registers content
T}
#@T{
(comment) ignore input until the end of line
T}
$@T{
find the next node which name ends with
T}
(@T{
run commands if
T}
)@T{
run commands ifnot
T}
-@T{
toggle a flag
T}
\.@T{
re-run the last command
T}
/@T{
find the next node which name contains
T}
:@T{
execute a printer command
T}
;@T{
refresh the view
T}
\= @T{
fold recursively at the cursor
T}
?@T{
print help for a given command
T}
C@T{
fold at the given path
T}
H@T{
fold at the cursor
T}
L@T{
unfold at the cursor
T}
N@T{
continue search backward
T}
O@T{
unfold at the given path
T}
Q@T{
quit with an exit code (by default indicating failure)
T}
[@T{
go to the parent's first child
T}
\\@T{
run a register as a sequence of commands
T}
]@T{
go to the parent's last child
T}
^@T{
find the next node which name starts with
T}
`@T{
go to the root
T}
c@T{
go to and fold at the given path
T}
h@T{
go to the parent directory
T}
j@T{
go to the next node
T}
k@T{
go to the previous node
T}
l@T{
go to the directory's first child (unfold if needed)
T}
n@T{
continue search forward
T}
o@T{
go to and unfold at the given path
T}
q@T{
quit
T}
{@T{
run commands while
T}
|@T{
pipe content into a shell command, use {} for the full path at the cursor
T}
}@T{
run commands whilenot
T}
~@T{
reload at the root (read the whole tree from file system)
T}
.TE

.SH PRINTERS
.PP
The flags available depend on the printer used.  Unknown
flags are silently ignored.  The default printer is
"\fBascii\fR".

.TP
\fBascii\fR - simple default and debug printer
.TS
tab (@);
l lx.
-F@T{
classify (append as decorator one of */=@|)
T}
-P@T{
show the node's relative path instead of only the name
T}
-h@T{
with -s, show sizes in a more human readable way
T}
-i@T{
show child count for directories and node index for child
T}
-l@T{
when the directory is from a link, show addresses
T}
-s@T{
show the size of files
T}
.TE

.TP
\fBfancy\fR - standard terminal printer
If it was built with \fBgit2\fR(3), it will also use the
appropriate ignore rules for given root directory.
.TS
tab (@);
l lx.
-C@T{
colorize the output
T}
-F@T{
classify (append as decorator one of */=@|)
T}
-T@T{
do not send terminal escape sequences (hiding cursor and
alternative screen buffer)
T}
-h@T{
with -s, show sizes in a more human readable way
T}
-j@T{
when a directory has a single child, show on the same line
T}
-q@T{
toggle quitting without leaving alternative buffer screen
T}
-s@T{
show the size of files
T}

^E@T{
forward one line
T}
^Y@T{
backward one line
T}
^D@T{
forward one half-window
T}
^U@T{
backward one half-window
T}
^F@T{
forward one window
T}
^B@T{
backward one window
T}
.TE

.SH BUGS
The "fancy" printer does not scroll to keep the cursor
on-screen.  It also does not update its internal window
size without an explicit redraw.

.SH NOTES
The shell (!) and pipe (|) commands use the
\fBsystem\fR(3) if a shell is indeed available.  The
command is executed from the cwd of treest, which is
not changed from its own invocation.

.SH "SEE ALSO"
.BR tree (1)

.SH AUTHOR
Grenier Celestin
